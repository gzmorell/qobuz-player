@defer (base.html; active_page="Favorites"; playing_info=playing_info) {
  <div
    class="flex flex-col px-4"
    data-sse="tracklist"
    hx-trigger="tracklist"
    hx-get=""
    hx-target="this"
    hx-swap="outerHTML"
  >
    <div
      class="flex sticky top-0 flex-col grow gap-4 pb-2 max-h-full pt-safe-or-4 bg-black/80 backdrop-blur"
    >
      <h1 class="text-2xl">Favorites</h1>
      <div
        class="flex justify-between group *:rounded-full *:px-2 *:py-1 *:transition-colors"
      >
        <a
          href="albums"
          class="@if (tab=='albums') {bg-blue-800}"
          preload="mouseover"
          preload-images="true"
        >
          Albums
        </a>
        <a
          href="artists"
          class="@if (tab=='artists') {bg-blue-800}"
          preload="mouseover"
          preload-images="true"
        >
          Artists
        </a>
        <a
          href="playlists"
          class="@if (tab=='playlists') {bg-blue-800}"
          preload="mouseover"
          preload-images="true"
        >
          Playlists
        </a>
        <a
          href="tracks"
          class="@if (tab=='tracks') {bg-blue-800}"
          preload="mouseover"
          preload-images="true"
        >
          Tracks
        </a>
      </div>
    </div>

    @if (tab == "albums") {
      @defer (list-albums.html; albums=favorites.albums) {}
    }

    @if (tab == "artists") {
      @defer (list-artists.html; artists=favorites.artists) {}
    }

    @if (tab == "playlists") {
      @defer (list-playlists.html; playlists=favorites.playlists) {}
    }

    @if (tab == "tracks") {
      @defer (
        list-tracks.html;
        click="/api/play-track/"
          api_by_id=true
          tracks=favorites.tracks;
        show_track_cover=true;
        show_artist=true
          is_favorite=true
      ) {}
    }
  </div>
}
